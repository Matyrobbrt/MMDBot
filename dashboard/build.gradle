plugins {
    id 'application'
    id 'java-library'
    // id 'maven'
    id 'eclipse'
    id 'idea'
    alias(libs.plugins.spotbugs)
    alias(libs.plugins.shadow)
    alias(libs.plugins.licenser)
    // alias(libs.plugins.lombok)
}

sourceSets {
    common {}
    client {}
    server {}
}

configurations {
    global
    commonImplementation.extendsFrom(global)
    clientImplementation.extendsFrom(global)
    serverImplementation.extendsFrom(global)

    api.extendsFrom(commonApi, clientApi, serverApi)
    implementation.extendsFrom(commonImplementation, clientImplementation, serverImplementation)
}

java.toolchain.languageVersion = JavaLanguageVersion.of(16)

repositories {
    mavenCentral()
}

dependencies {
    global libs.netty
    global libs.guava
    global libs.slf4japi
    global libs.fastutil

    serverApi sourceSets.common.output
    clientApi sourceSets.common.output

    api sourceSets.server.output
    api sourceSets.client.output
}
